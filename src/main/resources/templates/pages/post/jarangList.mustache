{{> /layout/header}}

<div>
    <div class="m_ph_md">

        <h1 class="text-center m_txt_title  m_ph_md">댕냥이자랑</h1>

        <hr>

        <div class="container m_pt_md">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">

                    <div class="collapse navbar-collapse justify-content-between" id="navbarSupportedContent">
                        <ul class="navbar-nav">
                            <li class="nav-item">총 @@건
                            </li>
                        </ul>
                        <form class="navbar-form navbar-right" role="search">
                            <div class="form-group d-flex">
                                <input type="text" class="form-control" placeholder="Search">
                                <button type="submit" class="btn btn-secondary m_ml_sm"
                                    style="width: 100px;">검색</button>
                            </div>
                        </form>

                    </div>
                </div>
            </nav>
        </div>

        <br>

        <div class="container">

            <div class="m_pr_sm">
                <button class="btn m_bg_secondary">
                    <a href="/s/boards/write-form">글쓰기</a>
                </button>
            </div>

            <div class="row">
                {{#data.boards.content}}
                <div class="col-sm-6 col-md-3">
                    <div class="thumbnail">
                        {{#content.thumnail}}
                        <a href="/boards/{{id}}">
                            <img class="m_box_image" src="/upload/{{thumnail}}">
                        </a>
                        {{/content.thumnail}}
                        {{^content.thumnail}}
                        <a href="/boards/{{id}}">
                            <img class="m_box_image" src="/images/cat.jpg">
                        </a>
                        {{/content.thumnail}}
                        <div class="caption">
                            <div class="m_font_lg m_mt_sm" style="font-weight: bold;">{{title}}</div>
                        </div>
                    </div>
                </div>
                {{/data.boards.content}}
            </div>
        </div>
    </div>

    {{#data}}
    <input id="first" type="hidden" value="{{boards.first}}"/>
    <input id="last" type="hidden" value="{{boards.last}}"/>
    <div class="paging-div">
        <ul class="pagination" id="pagination">
            <li id="prev" class="page-item"><a class="page-link" href="/boards/?page={{prev}}">이전</a></li>
            {{#pageNumbers}}
                <li class="page-item"><a class="page-link" href="/boards/?page={{.}}">{{.}}</a></li>
            {{/pageNumbers}}
            <li id="next" class="page-item"><a class="page-link" href="/boards/?page={{next}}">다음</a></li>
        </ul>
    </div>
    {{/data}}
</div>

<script>
    let checkAuthBtn = () => {
        let first = $("#first").val();
        let last = $("#last").val();

        console.log(first);
        console.log(last);

        if(first == "true"){
            $("#prev").addClass("disabled");
            $("#next").removeClass("disabled");
        } else if(last == "true"){
            $("#prev").removeClass("disabled");
            $("#next").addClass("disabled");
        } else {
            $("#prev").removeClass("disabled");
            $("#next").removeClass("disabled");
        }
    };
    checkAuthBtn();
</script>

{{> /layout/footer}}